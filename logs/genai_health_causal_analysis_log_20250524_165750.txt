2025-05-24 16:57:50,779 - INFO - YPLL_AIPW_Analysis_052325_v6 - Logging to: logs/genai_health_causal_analysis_log_20250524_165750.txt
2025-05-24 16:57:50,780 - INFO - YPLL_AIPW_Analysis_052325_v6 - Starting Generative AI Health Impact Causal Analysis Script.
2025-05-24 16:57:50,780 - INFO - YPLL_AIPW_Analysis_052325_v6 - Output will be saved in: genai_causal_output and logs/
2025-05-24 16:57:50,841 - INFO - YPLL_AIPW_Analysis_052325_v6 - Connected to PostgreSQL database 'Research_TEST' successfully.
2025-05-24 16:58:17,336 - INFO - YPLL_AIPW_Analysis_052325_v6 - Data for causal analysis retrieved: 3080 rows, 10 columns.
2025-05-24 16:58:17,336 - INFO - YPLL_AIPW_Analysis_052325_v6 - Converting population to numeric and filtering...
2025-05-24 16:58:17,338 - INFO - YPLL_AIPW_Analysis_052325_v6 - Preparing data for causal analysis...
2025-05-24 16:58:17,339 - INFO - YPLL_AIPW_Analysis_052325_v6 - Treatment variable 'genai_adopted' created (weighted_ai_adoption_score > 0.0). Prevalence: 18.54%
2025-05-24 16:58:17,340 - INFO - YPLL_AIPW_Analysis_052325_v6 - Created 8 dummy variables for 'census_division'. Ref category implicitly first unique sorted value.
2025-05-24 16:58:17,342 - INFO - YPLL_AIPW_Analysis_052325_v6 - Data preparation complete.
2025-05-24 16:58:17,342 - INFO - YPLL_AIPW_Analysis_052325_v6 - Dataset for analysis: 3080 counties after preparation.
2025-05-24 16:58:17,342 - INFO - YPLL_AIPW_Analysis_052325_v6 - Treatment distribution: {0: 0.8146103896103896, 1: 0.18538961038961038}
2025-05-24 16:58:17,342 - INFO - YPLL_AIPW_Analysis_052325_v6 - Estimating propensity scores...
2025-05-24 16:58:17,359 - INFO - YPLL_AIPW_Analysis_052325_v6 - Propensity score estimation complete.
2025-05-24 16:58:17,757 - INFO - YPLL_AIPW_Analysis_052325_v6 - Propensity score overlap plot saved to genai_causal_output/plots/propensity_score_overlap.png
2025-05-24 16:58:17,757 - INFO - YPLL_AIPW_Analysis_052325_v6 - Fitting outcome models (mu0 and mu1) for AIPW...
2025-05-24 16:58:17,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - Outcome models mu0 and mu1 fitted and predictions generated.
2025-05-24 16:58:17,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - Calculating AIPW Average Treatment Effect (ATE)...
2025-05-24 16:58:17,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - AIPW ATE calculated: -598.0421
2025-05-24 16:58:17,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - Starting bootstrapping for ATE CI with 1000 iterations. This may take some time.
2025-05-24 16:58:17,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - Calculating ATE confidence intervals using 1000 bootstrap samples...
2025-05-24 16:58:17,929 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 20/1000
2025-05-24 16:58:18,073 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 40/1000
2025-05-24 16:58:18,216 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 60/1000
2025-05-24 16:58:18,386 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 80/1000
2025-05-24 16:58:18,528 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 100/1000
2025-05-24 16:58:18,668 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 120/1000
2025-05-24 16:58:18,789 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 140/1000
2025-05-24 16:58:18,952 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 160/1000
2025-05-24 16:58:19,080 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 180/1000
2025-05-24 16:58:19,227 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 200/1000
2025-05-24 16:58:19,362 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 220/1000
2025-05-24 16:58:19,497 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 240/1000
2025-05-24 16:58:19,635 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 260/1000
2025-05-24 16:58:19,766 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 280/1000
2025-05-24 16:58:19,894 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 300/1000
2025-05-24 16:58:20,021 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 320/1000
2025-05-24 16:58:20,154 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 340/1000
2025-05-24 16:58:20,281 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 360/1000
2025-05-24 16:58:20,400 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 380/1000
2025-05-24 16:58:20,526 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 400/1000
2025-05-24 16:58:20,656 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 420/1000
2025-05-24 16:58:20,790 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 440/1000
2025-05-24 16:58:20,926 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 460/1000
2025-05-24 16:58:21,054 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 480/1000
2025-05-24 16:58:21,184 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 500/1000
2025-05-24 16:58:21,316 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 520/1000
2025-05-24 16:58:21,440 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 540/1000
2025-05-24 16:58:21,567 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 560/1000
2025-05-24 16:58:21,693 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 580/1000
2025-05-24 16:58:21,823 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 600/1000
2025-05-24 16:58:21,960 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 620/1000
2025-05-24 16:58:22,084 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 640/1000
2025-05-24 16:58:22,206 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 660/1000
2025-05-24 16:58:22,329 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 680/1000
2025-05-24 16:58:22,458 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 700/1000
2025-05-24 16:58:22,587 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 720/1000
2025-05-24 16:58:22,712 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 740/1000
2025-05-24 16:58:22,839 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 760/1000
2025-05-24 16:58:22,962 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 780/1000
2025-05-24 16:58:23,092 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 800/1000
2025-05-24 16:58:23,218 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 820/1000
2025-05-24 16:58:23,347 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 840/1000
2025-05-24 16:58:23,473 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 860/1000
2025-05-24 16:58:23,605 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 880/1000
2025-05-24 16:58:23,734 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 900/1000
2025-05-24 16:58:23,858 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 920/1000
2025-05-24 16:58:23,990 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 940/1000
2025-05-24 16:58:24,119 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 960/1000
2025-05-24 16:58:24,269 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 980/1000
2025-05-24 16:58:24,397 - INFO - YPLL_AIPW_Analysis_052325_v6 - Bootstrap iteration 1000/1000
2025-05-24 16:58:24,404 - INFO - YPLL_AIPW_Analysis_052325_v6 - ATE 95% CI (Bootstrap, 1000 valid samples): [-1238.4439, 60.3604]
2025-05-24 16:58:24,404 - INFO - YPLL_AIPW_Analysis_052325_v6 - Simulating potential YPLL and lives saved based on ATE...
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 - Simulating for 2509 counties currently without GenAI adoption.
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 - Scenario: If all non-adopting counties adopted GenAI:
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Estimated ATE on YPLL rate (per 100k pop): -598.0421
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Implied YPLL rate reduction (per 100k pop): 598.0421
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Total YPLL potentially averted nationally: 719,672
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Total premature deaths potentially averted: 24,816
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 -   (Assumption: 29.0 YPLL per premature death)
2025-05-24 16:58:24,405 - INFO - YPLL_AIPW_Analysis_052325_v6 - Generating visualizations...
2025-05-24 16:58:24,571 - INFO - YPLL_AIPW_Analysis_052325_v6 - ATE estimate plot saved to genai_causal_output/plots/ate_estimate_plot.png
2025-05-24 16:58:24,760 - INFO - YPLL_AIPW_Analysis_052325_v6 - Unadjusted outcome plot saved to genai_causal_output/plots/unadjusted_outcome_by_treatment.png
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - Potential YPLL averted distribution plot saved to genai_causal_output/plots/potential_ypll_averted_distribution.png
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - Visualizations generation attempt finished.
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - ================================================================================
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - Causal Analysis Summary:
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Outcome Variable: premature_death_raw_value
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Treatment Variable: genai_adopted (GenAI Adopted if weighted_ai_adoption_score > 0)
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Estimated ATE (AIPW): -598.0421
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   95% CI for ATE (Bootstrap, 1000 reps): [-1238.4439, 60.3604]
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Potential YPLL Averted (National Estimate): 719,672
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 -   Potential Premature Deaths Averted (National Estimate): 24,816
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - ================================================================================
2025-05-24 16:58:24,984 - INFO - YPLL_AIPW_Analysis_052325_v6 - Generative AI Health Impact Causal Analysis Script finished.
